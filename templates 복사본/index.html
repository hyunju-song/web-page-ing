<!DOCTYPE html>
<html>

  <head>
	<title>MY Travel Project</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js">></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="{{ url_for('static', filename='mystyle.css') }}">

    <link href="https://fonts.googleapis.com/css?family=Big+Shoulders+Text&display=swap" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css?family=Fjalla+One&display=swap" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css?family=Muli&display=swap" rel="stylesheet">

  <script>
    function apply() {

      let name = $('#apply_name').val();
      let count = $('#apply_count').val();
      let address = $('#apply_address').val();
      let phone = $('#apply_phone').val()
      let item = '마추픽추투어';

      $.ajax({
        type: "POST",
        url: "/order",
        data: {name_give:name, count_give:count,address_give:address, phone_give: phone, item_give:item},
      success: function(response){
        if(response['result'] == 'success') {
          alert('신청완료') ;
          window.location.reload() ;
        }
      }

      })
    }


    function listing() {
      let item = '마추픽추투어'
      $.ajax({
        type: "GET",
        url: "/order",
        data: {item_give:item},
        success: function(response){
          if (response['result'] == 'success') {
            var orders = response['orders'];
          for (let i = 0; i < orders.length; i++) {
            make_card(orders[i]['item'],orders[i]['name'],orders[i]['count'],orders[i]['address'],orders[i]['phone'])
          }
          }
        }
      })
    }

    $(document).ready(function(){
  listing();
  });

    function make_card(item,name,count,address,phone) {
      let temp_html = '<tr>\
            <td>'+item+'</td>\
            <td>'+name+'</td>\
            <td>'+count+'</td>\
            <td>'+address+'</td>\
            <td>'+phone+'</td>\
          </tr>';
        $('#apply-box').append(temp_html);
    }


  </script>

</head>

<body>

<div class="card">

	 <!-- Header -->
  <header class="masthead">
    <div class="container">
      <div class="intro-text">
        <div class="intro-lead-in">Welcome to our Tour</div>
        <div class="intro-heading text-uppercase">Enjoy your trip</div>
      </div>
    </div>
  </header>

  <!-- style -->
  <section class="page-section" id="service">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h2 class="section-heading text-uppercase">Program</h2>
          <h3 class="section-subheading text-muted">There are our tour program for this month.</h3>
        </div>
      </div>
    </div>
  </section>

<div class="card-deck">
  <div class="card">
    <img src="static/img/DSC03699.JPG" class="card-img-top" alt="img/DSC03699.JPG">
    <div class="card-body">
      <h5 class="card-title">마추픽추 투어</h5>
      <p class="card-text">세계 7대 불가사의 중 하나인 마추픽추, 잉카문명의 위대함을 느껴볼 수 있는 여행 .</p>
    </div>
    <div>
    <div class="group">
      <div class="form-group">
      <label for="exampleFormControlInput1">예약자 성함</label>
      <input id="apply_name" type="test" class="form-control">
      </div>
      <div class="form-group">
      <label for="exampleFormControlSelect1">참여인원</label>
      <select class="form-control" id="apply_count" id="exampleFormControlSelect1">
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
      </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlInput1">예약자 주소</label>
        <input type="test" id="apply_address" class="form-control">
      </div>
      <div class="form-group">
        <label for="exampleFormControlInput1">예약자 전화번호</label>
        <input type="test" id="apply_phone" class="form-control">
      </div>
      <button onclick="apply()" class="btn btn-primary">신청하기</button>
    </div>
  </div>

  </div>

  <div class="card">
    <img src="static/img/DSC02988.JPG" class="card-img-top" alt="img/DSC02988.JPG">
    <div class="card-body">
      <h5 class="card-title">방콕 사원 투어</h5>
      <p class="card-text">화려한 왕궁과 왓아룬 사원을 둘러보며, 방콕의 역사와 종교를 알아가는 뜻깊은 여행.</p>
    </div>
    <div>
    <div class="group">
      <div class="form-group">
      <label for="exampleFormControlInput1">예약자 성함</label>
      <input type="test" id="apply_name2" class="form-control">
      </div>
      <div class="form-group">
      <label for="exampleFormControlSelect1">참여인원</label>
      <select class="form-control" id="apply_count2" id="exampleFormControlSelect1">
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
      </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlInput1">예약자 주소</label>
        <input type="test" id="apply_address2" class="form-control">
      </div>
      <div class="form-group">
        <label for="exampleFormControlInput1">예약자 전화번호</label>
        <input type="test" id="apply_phone2" class="form-control">
      </div>
      <button onclick="apply2()" class="btn btn-primary">신청하기</button>
  </div>
  </div>

  </div>

  <div class="card">
    <img src="static/img/DSC02021.JPG" class="card-img-top" alt="img/DSC02021.JPG">
    <div class="card-body">
      <h5 class="card-title">속초 겨울바다 여행</h5>
      <p class="card-text">아름다운 속초 겨울바다보며 힐링하고, 맛있는 해산물들까지 즐길 수 있는 여행.</p>
    </div>
    <div>
    <div class="group">
      <div class="form-group">
      <label for="exampleFormControlInput1">예약자 성함</label>
      <input type="test" id="apply_name3" class="form-control">
      </div>
      <div class="form-group">
      <label for="exampleFormControlSelect1">참여인원</label>
      <select class="form-control" id="apply_count3" id="exampleFormControlSelect1">
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
      </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlInput1">예약자 주소</label>
        <input type="test" id="apply_address3" class="form-control">
      </div>
      <div class="form-group">
        <label for="exampleFormControlInput1">예약자 전화번호</label>
        <input type="test" id="apply_phone3" class="form-control">
      </div>
      <button onclick="apply3()" class="btn btn-primary">신청하기</button>
    </div>
  </div>

  </div>
  </div>

  </div>

  <div class="application">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">투어명</th>
        <th scope="col">신청자명</th>
        <th scope="col">신청인원</th>
        <th scope="col">신청자주소</th>
        <th scope="col">신청자전화번호</th>
      </tr>
    </thead>
    <div id="apply-reload">
    <tbody id="apply-box">
    </tbody>
  </div>
  </table>
</div>

</body>

</html>